@using BugFixer.Application.Extensions;
@model List<BugFixer.Application.ViewModels.Questions.QuestionVM>

@{
    ViewData["Title"] = "صفحه اصلی";
}
@section Landing
    {
    <partial name="_LandingSection" />
}

<div class="questions-layer">
    <!-- Top -->
    <div class="top-layer">
        <a href="/submit-question" class="linkbutton blue"> ثبت پرسش جدید </a>
        <div class="filter-layer">
            <form action="" method="">
                <div class="select-layer">
                    <select>
                        <option> جدیدترین پرسش ها </option>
                        <option> پربحث ترین پرسش ها </option>
                        <option> پرامتیازترین پرسش ها </option>
                        <option> پرسش های یک هفته اخیر  </option>
                        <option> پرسش های یک ماه اخیر  </option>
                    </select>
                </div>
                <button><i class="icon-sort"></i></button>
            </form>
        </div>
    </div>
    <!-- /Top -->
    <!-- questions list -->
    <div class="questions-list">
        <!-- item -->
        @foreach (var item in Model)
        {
            <article class="answered">
                <h2><a href="/show-question/@item.Id">@item.Title</a></h2>
                <span> @item.Answers.Count() <i class="icon-comment-1"></i> </span>
                <ul>
                    <li> پرسیده شده توسط  <a href="">  @item.User.UserName </a> @item.CreateDate.TimeAgo()</li>
                    @if (item.Answers.Any())
                    {
                        <li> آخرین پاسخ توسط <a href=""> @item.Answers.FirstOrDefault().User.UserName </a>@item.Answers.FirstOrDefault().CreateDate.TimeAgo() </li>
                    }
                    else
                    {
                        <li>
                            بدون پاسخ
                        </li>
                    }
                </ul>
                <div class="detail">
                    <div class="tags-layer">
                        @foreach (var tag in item.QuestionTags)
                        {
                            <a href=""> @tag.Tag </a>
                        }

                    </div>
                    <div class="left-side">
                        <span> @item.Rate <i class="icon-star"></i> </span>
                        <span> @item.Visit <i class="icon-eye"></i> </span>
                    </div>
                </div>
            </article>
        }

        <!-- /item -->
        <!-- item -->
        @*  <article class="answered">
        <h2><a href="">بهترین و ساده ترین روش برای پیاده سازی گرید ویو در لاراول نسخه ی آخر</a></h2>
        <span> 236 <i class="icon-comment-1"></i> </span>
        <ul>
        <li> پرسیده شده توسط  <a href=""> شیوا محمدی </a> در 1 ساعت پیش </li>
        <li> آخرین پاسخ توسط <a href=""> میترا رحیمی </a> در 15 دقیقه پسش </li>
        </ul>
        <div class="detail">
        <div class="tags-layer">
        <a href=""> Jquery </a>
        <a href=""> JavaScript </a>
        <a href=""> PHP </a>
        <a href=""> Ecommerce </a>
        <a href=""> Framework </a>
        </div>
        <div class="left-side">
        <span> 983 <i class="icon-star"></i> </span>
        <span> 264 <i class="icon-eye"></i> </span>
        </div>
        </div>
        </article> *@
        <!-- /item -->

    </div>
    <!-- /questions list -->
</div>

@section SideBar{
    <partial name="_SideBar" />
        }